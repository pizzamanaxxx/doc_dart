
<!doctype html>
<html lang="en" class="no-js">
  <head>
    
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width,initial-scale=1">
      
      
      
        <link rel="canonical" href="DART_functionalities_and_products/4-Radiative_modes_sub_modes/4.5/lidar_forward_dart_rc.html">
      
      
        <link rel="prev" href="../4.4/monte_carlo.html">
      
      
        <link rel="next" href="../4.6/lidar_bidirectional_dart_lux.html">
      
      <link rel="icon" href="../../../assets/images/favicon.png">
      <meta name="generator" content="mkdocs-1.4.3, mkdocs-material-9.1.11">
    
    
      
        <title>4.5 LiDAR: Forward mode (DART-RC) - DART User's Manual</title>
      
    
    
      <link rel="stylesheet" href="../../../assets/stylesheets/main.85bb2934.min.css">
      
        
        <link rel="stylesheet" href="../../../assets/stylesheets/palette.a6bdf11c.min.css">
      
      

    
    
    
      
        
        
        <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
        <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto:300,300i,400,400i,700,700i%7CRoboto+Mono:400,400i,700,700i&display=fallback">
        <style>:root{--md-text-font:"Roboto";--md-code-font:"Roboto Mono"}</style>
      
    
    
    <script>__md_scope=new URL("../../..",location),__md_hash=e=>[...e].reduce((e,_)=>(e<<5)-e+_.charCodeAt(0),0),__md_get=(e,_=localStorage,t=__md_scope)=>JSON.parse(_.getItem(t.pathname+"."+e)),__md_set=(e,_,t=localStorage,a=__md_scope)=>{try{t.setItem(a.pathname+"."+e,JSON.stringify(_))}catch(e){}}</script>
    
      

    
    
    
  </head>
  
  
    
    
      
    
    
    
    
    <body dir="ltr" data-md-color-scheme="default" data-md-color-primary="green" data-md-color-accent="indigo">
  
    
    
      <script>var palette=__md_get("__palette");if(palette&&"object"==typeof palette.color)for(var key of Object.keys(palette.color))document.body.setAttribute("data-md-color-"+key,palette.color[key])</script>
    
    <input class="md-toggle" data-md-toggle="drawer" type="checkbox" id="__drawer" autocomplete="off">
    <input class="md-toggle" data-md-toggle="search" type="checkbox" id="__search" autocomplete="off">
    <label class="md-overlay" for="__drawer"></label>
    <div data-md-component="skip">
      
        
        <a href="#a-single-pulse" class="md-skip">
          Skip to content
        </a>
      
    </div>
    <div data-md-component="announce">
      
    </div>
    
    
      

  

<header class="md-header md-header--shadow" data-md-component="header">
  <nav class="md-header__inner md-grid" aria-label="Header">
    <a href="../../../index.html" title="DART User&#39;s Manual" class="md-header__button md-logo" aria-label="DART User's Manual" data-md-component="logo">
      
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 8a3 3 0 0 0 3-3 3 3 0 0 0-3-3 3 3 0 0 0-3 3 3 3 0 0 0 3 3m0 3.54C9.64 9.35 6.5 8 3 8v11c3.5 0 6.64 1.35 9 3.54 2.36-2.19 5.5-3.54 9-3.54V8c-3.5 0-6.64 1.35-9 3.54Z"/></svg>

    </a>
    <label class="md-header__button md-icon" for="__drawer">
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M3 6h18v2H3V6m0 5h18v2H3v-2m0 5h18v2H3v-2Z"/></svg>
    </label>
    <div class="md-header__title" data-md-component="header-title">
      <div class="md-header__ellipsis">
        <div class="md-header__topic">
          <span class="md-ellipsis">
            DART User's Manual
          </span>
        </div>
        <div class="md-header__topic" data-md-component="header-topic">
          <span class="md-ellipsis">
            
              4.5 LiDAR: Forward mode (DART-RC)
            
          </span>
        </div>
      </div>
    </div>
    
      
        <form class="md-header__option" data-md-component="palette">
          
            
            
            
            <input class="md-option" data-md-color-media="" data-md-color-scheme="default" data-md-color-primary="green" data-md-color-accent="indigo"  aria-label="Switch to dark mode"  type="radio" name="__palette" id="__palette_1">
            
              <label class="md-header__button md-icon" title="Switch to dark mode" for="__palette_2" hidden>
                <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M17 7H7a5 5 0 0 0-5 5 5 5 0 0 0 5 5h10a5 5 0 0 0 5-5 5 5 0 0 0-5-5m0 8a3 3 0 0 1-3-3 3 3 0 0 1 3-3 3 3 0 0 1 3 3 3 3 0 0 1-3 3Z"/></svg>
              </label>
            
          
            
            
            
            <input class="md-option" data-md-color-media="" data-md-color-scheme="slate" data-md-color-primary="green" data-md-color-accent="indigo"  aria-label="Switch to light mode"  type="radio" name="__palette" id="__palette_2">
            
              <label class="md-header__button md-icon" title="Switch to light mode" for="__palette_1" hidden>
                <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M17 6H7c-3.31 0-6 2.69-6 6s2.69 6 6 6h10c3.31 0 6-2.69 6-6s-2.69-6-6-6zm0 10H7c-2.21 0-4-1.79-4-4s1.79-4 4-4h10c2.21 0 4 1.79 4 4s-1.79 4-4 4zM7 9c-1.66 0-3 1.34-3 3s1.34 3 3 3 3-1.34 3-3-1.34-3-3-3z"/></svg>
              </label>
            
          
        </form>
      
    
    
    
      <label class="md-header__button md-icon" for="__search">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5Z"/></svg>
      </label>
      <div class="md-search" data-md-component="search" role="dialog">
  <label class="md-search__overlay" for="__search"></label>
  <div class="md-search__inner" role="search">
    <form class="md-search__form" name="search">
      <input type="text" class="md-search__input" name="query" aria-label="Search" placeholder="Search" autocapitalize="off" autocorrect="off" autocomplete="off" spellcheck="false" data-md-component="search-query" required>
      <label class="md-search__icon md-icon" for="__search">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5Z"/></svg>
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12Z"/></svg>
      </label>
      <nav class="md-search__options" aria-label="Search">
        
        <button type="reset" class="md-search__icon md-icon" title="Clear" aria-label="Clear" tabindex="-1">
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12 19 6.41Z"/></svg>
        </button>
      </nav>
      
    </form>
    <div class="md-search__output">
      <div class="md-search__scrollwrap" data-md-scrollfix>
        <div class="md-search-result" data-md-component="search-result">
          <div class="md-search-result__meta">
            Initializing search
          </div>
          <ol class="md-search-result__list" role="presentation"></ol>
        </div>
      </div>
    </div>
  </div>
</div>
    
    
  </nav>
  
</header>
    
    <div class="md-container" data-md-component="container">
      
      
        
          
        
      
      <main class="md-main" data-md-component="main">
        <div class="md-main__inner md-grid">
          
            
              
              <div class="md-sidebar md-sidebar--primary" data-md-component="sidebar" data-md-type="navigation" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    


<nav class="md-nav md-nav--primary" aria-label="Navigation" data-md-level="0">
  <label class="md-nav__title" for="__drawer">
    <a href="../../../index.html" title="DART User&#39;s Manual" class="md-nav__button md-logo" aria-label="DART User's Manual" data-md-component="logo">
      
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 8a3 3 0 0 0 3-3 3 3 0 0 0-3-3 3 3 0 0 0-3 3 3 3 0 0 0 3 3m0 3.54C9.64 9.35 6.5 8 3 8v11c3.5 0 6.64 1.35 9 3.54 2.36-2.19 5.5-3.54 9-3.54V8c-3.5 0-6.64 1.35-9 3.54Z"/></svg>

    </a>
    DART User's Manual
  </label>
  
  <ul class="md-nav__list" data-md-scrollfix>
    
      
      
      

  
  
  
    <li class="md-nav__item">
      <a href="../../../index.html" class="md-nav__link">
        Home
      </a>
    </li>
  

    
      
      
      

  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
      
      
      <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_2" >
      
      
      
        <label class="md-nav__link" for="__nav_2" id="__nav_2_label" tabindex="0">
          I. Remote sensing and radiative budget modeling of natural and urban surfaces
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_2_label" aria-expanded="false">
        <label class="md-nav__title" for="__nav_2">
          <span class="md-nav__icon md-icon"></span>
          I. Remote sensing and radiative budget modeling of natural and urban surfaces
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../Remote_sensing/remote_sensing.html" class="md-nav__link">
        Remote sensing and radiative budget modeling of natural and urban surfaces
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

    
      
      
      

  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
      
      
      <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_3" >
      
      
      
        <label class="md-nav__link" for="__nav_3" id="__nav_3_label" tabindex="0">
          II. DART model
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_3_label" aria-expanded="false">
        <label class="md-nav__title" for="__nav_3">
          <span class="md-nav__icon md-icon"></span>
          II. DART model
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../DART_model/dart_model.html" class="md-nav__link">
        DART Model
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

    
      
      
      

  
  
    
  
  
    
    <li class="md-nav__item md-nav__item--active md-nav__item--nested">
      
      
      
      
      <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_4" checked>
      
      
      
        <label class="md-nav__link" for="__nav_4" id="__nav_4_label" tabindex="0">
          III. DART functionalities and products
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_4_label" aria-expanded="true">
        <label class="md-nav__title" for="__nav_4">
          <span class="md-nav__icon md-icon"></span>
          III. DART functionalities and products
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../1-File_architecture/file_architecture.html" class="md-nav__link">
        1 - File Architecture
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../2-GUI/gui.html" class="md-nav__link">
        2 - Graphical User Interface
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../3-Editor_of_simulation/editor_of_simulation.html" class="md-nav__link">
        3 - Editor of simulation
      </a>
    </li>
  

            
          
            
              
  
  
    
  
  
    
    <li class="md-nav__item md-nav__item--active md-nav__item--nested">
      
      
      
      
      <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_4_4" checked>
      
      
      
        <label class="md-nav__link" for="__nav_4_4" id="__nav_4_4_label" tabindex="0">
          4 - RADIATIVE MODES, SUB-MODES, PARAMETERS and PRODUCTS
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_4_4_label" aria-expanded="true">
        <label class="md-nav__title" for="__nav_4_4">
          <span class="md-nav__icon md-icon"></span>
          4 - RADIATIVE MODES, SUB-MODES, PARAMETERS and PRODUCTS
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../4.1/radiative_parameters.html" class="md-nav__link">
        4.1 Radiative parameters identical in 'Passive RS & RB' and 'LiDAR'
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../4.2/passive_rs_rb_dart_ft.html" class="md-nav__link">
        4.2 Passive RS & RB: Forward mode (DART-FT)
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../4.3/passive_rs_rb_dart_lux.html" class="md-nav__link">
        4.3 Passive RS & RB: Bi-directionnal sub-mode (DART-Lux)
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../4.4/monte_carlo.html" class="md-nav__link">
        4.4 Monte Carlo (DART-MC)
      </a>
    </li>
  

            
          
            
              
  
  
    
  
  
    <li class="md-nav__item md-nav__item--active">
      
      <input class="md-nav__toggle md-toggle" type="checkbox" id="__toc">
      
      
      
        <label class="md-nav__link md-nav__link--active" for="__toc">
          4.5 LiDAR: Forward mode (DART-RC)
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <a href="lidar_forward_dart_rc.html" class="md-nav__link md-nav__link--active">
        4.5 LiDAR: Forward mode (DART-RC)
      </a>
      
        

<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#a-single-pulse" class="md-nav__link">
    a) Single pulse
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#b-multiple-pulse" class="md-nav__link">
    b) Multiple pulse
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#c-discrete-points-point-cloud" class="md-nav__link">
    c) Discrete points: point cloud
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#d-photon-counting" class="md-nav__link">
    d) Photon counting
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#e-tls" class="md-nav__link">
    e) TLS
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#f-solar-noise" class="md-nav__link">
    f) Solar noise
  </a>
  
</li>
      
    </ul>
  
</nav>
      
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../4.6/lidar_bidirectional_dart_lux.html" class="md-nav__link">
        4.6 LiDAR: Bi-directional sub-mode (DART-Lux LiDAR)
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../4.7/earth_scene_products.html" class="md-nav__link">
        4.7 Earth scene products
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../4.8/directions_of_rays.html" class="md-nav__link">
        4.8 Direction of rays
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../4.9/optical_and_temperature_properties.html" class="md-nav__link">
        4.9 Optical and Temperatures properties
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../4.10/earth_scene.html" class="md-nav__link">
        4.10 The Earth scene
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../4.11/atmosphere.html" class="md-nav__link">
        4.11 Atmosphere
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../4.12/inversion.html" class="md-nav__link">
        4.12 Inversion (being removed)
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

            
          
            
              
  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
      
      
      <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_4_5" >
      
      
      
        <label class="md-nav__link" for="__nav_4_5" id="__nav_4_5_label" tabindex="0">
          5 - Run menu
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_4_5_label" aria-expanded="false">
        <label class="md-nav__title" for="__nav_4_5">
          <span class="md-nav__icon md-icon"></span>
          5 - Run menu
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../5-Run_menu/5.1/dart_basic_modules.html" class="md-nav__link">
        5.1 DART basic modules
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../5-Run_menu/5.2/the_lut.html" class="md-nav__link">
        5.2 The LUT
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../5-Run_menu/5.3/sequencer_module.html" class="md-nav__link">
        5.3 Sequencer module
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../5-Run_menu/5.4/python_scripts.html" class="md-nav__link">
        5.4 Python scripts to run DART
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

            
          
            
              
  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
      
      
      <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_4_6" >
      
      
      
        <label class="md-nav__link" for="__nav_4_6" id="__nav_4_6_label" tabindex="0">
          6 - View menu
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_4_6_label" aria-expanded="false">
        <label class="md-nav__title" for="__nav_4_6">
          <span class="md-nav__icon md-icon"></span>
          6 - View menu
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../6-View_menu/6.1/view_scene_2d_3d.html" class="md-nav__link">
        6.1 View scene 3D and 2D
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../6-View_menu/6.2/view_image.html" class="md-nav__link">
        6.2 View image
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../6-View_menu/6.3/3d_object_viewer.html" class="md-nav__link">
        6.3 3D object viewer
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../6-View_menu/6.4/directions_3d_view.html" class="md-nav__link">
        6.4 Directions 3D view
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../6-View_menu/6.5/directional_reflectance_temp.html" class="md-nav__link">
        6.5 Directional reflectance/Temperature 1D & 2D
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../6-View_menu/6.6/lidar.html" class="md-nav__link">
        6.6 LiDAR
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../6-View_menu/6.7/surface_radiative_budget.html" class="md-nav__link">
        6.7 Surface radiative budget (RB)
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../6-View_menu/6.8/lut.html" class="md-nav__link">
        6.8 LUT
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../6-View_menu/6.9/report_data_files.html" class="md-nav__link">
        6.9 Report / data files
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

            
          
            
              
  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
      
      
      <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_4_7" >
      
      
      
        <label class="md-nav__link" for="__nav_4_7" id="__nav_4_7_label" tabindex="0">
          7 - Tools menu: run DART tools
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_4_7_label" aria-expanded="false">
        <label class="md-nav__title" for="__nav_4_7">
          <span class="md-nav__icon md-icon"></span>
          7 - Tools menu: run DART tools
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../7-Tools_menu/7.1/sail_model.html" class="md-nav__link">
        7.1 SAIL model
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../7-Tools_menu/7.2/leaf_spectra_inversion.html" class="md-nav__link">
        7.2 Leaf spectra inversion
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../7-Tools_menu/7.3/computation_parametric_model_coef.html" class="md-nav__link">
        7.3 Computation of parametric model coefficients
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../7-Tools_menu/7.4/3d_objects_creation.html" class="md-nav__link">
        7.4 Creation of 3D objects
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../7-Tools_menu/7.5/lut_tools.html" class="md-nav__link">
        7.5 LUT tools: BRF model inversion and noised LUT
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../7-Tools_menu/7.6/topography_tools.html" class="md-nav__link">
        7.6 Topography tools
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../7-Tools_menu/7.7/covermap_importation.html" class="md-nav__link">
        7.7 CoverMap importation
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../7-Tools_menu/7.8/band_calculation_tools.html" class="md-nav__link">
        7.8 Band calculation tools
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../7-Tools_menu/7.9/color_composite.html" class="md-nav__link">
        7.9 Color composite
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../7-Tools_menu/7.10/3d_radiative_budget_extractor.html" class="md-nav__link">
        7.10 3D Radiative budget extractor
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../7-Tools_menu/7.11/dart_database_manager.html" class="md-nav__link">
        7.11 DART database manager
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

    
      
      
      

  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
      
      
      <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_5" >
      
      
      
        <label class="md-nav__link" for="__nav_5" id="__nav_5_label" tabindex="0">
          IV. Format of DART files
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_5_label" aria-expanded="false">
        <label class="md-nav__title" for="__nav_5">
          <span class="md-nav__icon md-icon"></span>
          IV. Format of DART files
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../Format_DART_files/1-All_dart_modes/all_dart_modes.html" class="md-nav__link">
        1 - All DART modes
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../Format_DART_files/2-DART_FT/dart_ft.html" class="md-nav__link">
        2 - DART-FT
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../Format_DART_files/3-DART_RC/dart_rc.html" class="md-nav__link">
        3 - DART-RC
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../Format_DART_files/4-DART_LUX/dart_lux.html" class="md-nav__link">
        4 - DART-Lux
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

    
      
      
      

  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
      
      
      <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_6" >
      
      
      
        <label class="md-nav__link" for="__nav_6" id="__nav_6_label" tabindex="0">
          V - General advices
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_6_label" aria-expanded="false">
        <label class="md-nav__title" for="__nav_6">
          <span class="md-nav__icon md-icon"></span>
          V - General advices
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../General_advices/general_advices.html" class="md-nav__link">
        **General Advices**
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

    
      
      
      

  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
      
      
      <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_7" >
      
      
      
        <label class="md-nav__link" for="__nav_7" id="__nav_7_label" tabindex="0">
          VI - Physical bases
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_7_label" aria-expanded="false">
        <label class="md-nav__title" for="__nav_7">
          <span class="md-nav__icon md-icon"></span>
          VI - Physical bases
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../Physical_bases/physical_bases.html" class="md-nav__link">
        **Physical bases**
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

    
      
      
      

  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
      
      
      <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_8" >
      
      
      
        <label class="md-nav__link" for="__nav_8" id="__nav_8_label" tabindex="0">
          VII. Work packages
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_8_label" aria-expanded="false">
        <label class="md-nav__title" for="__nav_8">
          <span class="md-nav__icon md-icon"></span>
          VII. Work packages
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../Tutorials/T0/t0.html" class="md-nav__link">
        WP0 - DART Overview
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../Tutorials/T1/t1.html" class="md-nav__link">
        WP1 - Reflectance
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../Tutorials/T2/t2.html" class="md-nav__link">
        WP2 - Temperature
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../Tutorials/T3/t3.html" class="md-nav__link">
        WP3 - House, Specular and polarized reflectance, atmosphere
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../Tutorials/T4/t4.html" class="md-nav__link">
        WP4 - Radiative Budget (RB) and sun induced fluorescence (SIF)
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../Tutorials/T5/t5.html" class="md-nav__link">
        WP5 - Fluids and CoverMap importation
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../Tutorials/T6/t6.html" class="md-nav__link">
        WP6 - Trees - creation and importation
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../Tutorials/T7/t7.html" class="md-nav__link">
        WP7 - Topography
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../Tutorials/T8/t8.html" class="md-nav__link">
        WP8 - LiDAR
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../Tutorials/T9/t9.html" class="md-nav__link">
        WP9 - Airborne and in-situ sensors
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../Tutorials/T10/t10.html" class="md-nav__link">
        WP10 - RAMI Experiment - run of DART using python scripts
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../Tutorials/T11/t11.html" class="md-nav__link">
        WP11 - Mapping global sun radiometric quantities (out of date)
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../Tutorials/T12/t12.html" class="md-nav__link">
        WP12 - Satellite image inversion (under development)
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

    
      
      
      

  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
      
      
      <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_9" >
      
      
      
        <label class="md-nav__link" for="__nav_9" id="__nav_9_label" tabindex="0">
          Annexes
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_9_label" aria-expanded="false">
        <label class="md-nav__title" for="__nav_9">
          <span class="md-nav__icon md-icon"></span>
          Annexes
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../Annexes/Annex1/annex1.html" class="md-nav__link">
        Annex 1: DART Python modules / scripts
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../Annexes/Annex2/annex2.html" class="md-nav__link">
        Annex 2: DART Albedo and Ortho images
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../Annexes/Annex3/annex3.html" class="md-nav__link">
        Annex 3: AERONET and ECMWF data
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../Annexes/Annex4/annex4.html" class="md-nav__link">
        Annex 4: Forest simulation with DART-Lux
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../Annexes/Annex5/annex5.html" class="md-nav__link">
        Annex 5: Field of trees that are the clones of a DART created 3D (facet) tree
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../Annexes/Annex6/annex6.html" class="md-nav__link">
        Annex 6: Optimal domain of leaf variables to get leaf optical properties
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../Annexes/Annex7/annex7.html" class="md-nav__link">
        Annex 7: List of abbreviations
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

    
  </ul>
</nav>
                  </div>
                </div>
              </div>
            
            
              
              <div class="md-sidebar md-sidebar--secondary" data-md-component="sidebar" data-md-type="toc" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    

<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#a-single-pulse" class="md-nav__link">
    a) Single pulse
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#b-multiple-pulse" class="md-nav__link">
    b) Multiple pulse
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#c-discrete-points-point-cloud" class="md-nav__link">
    c) Discrete points: point cloud
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#d-photon-counting" class="md-nav__link">
    d) Photon counting
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#e-tls" class="md-nav__link">
    e) TLS
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#f-solar-noise" class="md-nav__link">
    f) Solar noise
  </a>
  
</li>
      
    </ul>
  
</nav>
                  </div>
                </div>
              </div>
            
          
          
            <div class="md-content" data-md-component="content">
              <article class="md-content__inner md-typeset">
                
                  


  <h1>4.5 LiDAR: Forward mode (DART-RC)</h1>

<p>DART-RC mode extends DART-MC mode to simulate single- and multi-pulse waveforms of urban/ natural scenes, possibly with solar signal/noise, using a unique pulse definition. It tracks so-called DART photons that have a weight (<em>i.e</em>., float number) to simulate the LiDAR signal with reasonable computer time with a forward MC method. DART-RC (RC = RayCarlo) "tracking method" combines Ray Tracking and MC methods. MC methods compute the location of the intercepted photon in turbid / fluid cells and its scattering direction. The ray tracking method gives the fraction of intercepted photons in atmosphere layers and turbid/ fluid cells, the scattered and absorbed fractions per photon interception and the photon fraction that heads to the LiDAR.</p>
<p><u><em>Atmosphere</em></u>: extinction coefficients are horizontally homogeneous and vertically continuous (except for treating atmosphere sphericity) with a formalism (<em>i.e.</em>, degree 3 polynomial per atmosphere layer) that reduces computer time for deriving the location of the interaction point from the MC computed ray path optical depth.</p>
<h3 id="a-single-pulse">a) <strong>Single pulse</strong></h3>
<ul>
<li><u><em>Pulse duration</em></u> <span class="arithmatex">\(\Delta t_{pulse}\)</span>: DART photons are emitted simultaneously. A post processing convolves them assuming that the emitted pulse is a centered Gauss function <span class="arithmatex">\(A.e^{[-t^2/2.\sigma_t^2]}\)</span> (see below) with half pulse duration <span class="arithmatex">\(n_{\sigma}.\sigma_t\)</span>. One sets <span class="arithmatex">\(n_{\sigma}\)</span> (<img src="../../media/2.png" width=15/>), and <span class="arithmatex">\(\sigma_t\)</span> is defined by setting a pulse relative power x (<img src="../../media/3.png" width=15/>) and time <span class="arithmatex">\(\Delta t_x\)</span> (<img src="../../media/4.png" width=15/>) such that pulse amplitude equals x.A. If x = 0.5, 2<span class="arithmatex">\(\Delta t_x\)</span> is the "full width at half maximum (FWHM)" of emitted pulse.</li>
</ul>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>Any 1D distribution can be imported as the LiDAR temporal pulse using the option <em>'Import a pulse time file'</em>.</p>
</div>
<p><center><img src="./media/lidar_gauss_pulse.png"><p><em>LiDAR Gauss pulse. Amplitude A. Standard deviation <span class="arithmatex">\(\sigma_t\)</span>. is derived from x and <span class="arithmatex">\(t_x\)</span>.</em></p></img></center></p>
<ul>
<li>
<p><u><em>Pulse energy</em></u> <span class="arithmatex">\(W_{pulse}\)</span> <img src="../../media/1_blue.png" width=15/> (see below): <span class="arithmatex">\(N_{photons,LiDAR}=\frac {W_{pulse}} {h.\nu}\)</span> monochromatic photons; Planck's constant h, frequency <span class="arithmatex">\(\nu\)</span>.</p>
</li>
<li>
<p><u><em>Illumination</em></u> (see below):  <span class="arithmatex">\(N_{photons, LiDAR}\)</span> being too large, <span class="arithmatex">\(N_{photons,DART}\)</span> DART photons <span class="arithmatex">\(\approx N_{photons,input}\)</span> are launched to the
footprint from sub-centers (i,j). Default footprint 2D energy is <span class="arithmatex">\(P_l(\beta)=\hat{P}_{l,\beta}.e^{\frac {-\beta^2} {2.s_{\beta}^2}}\)</span> with <span class="arithmatex">\(\beta\)</span> the angular offset from the pulse central  direction. Standard deviation <span class="arithmatex">\(s_{\beta}\)</span> defines the cone half beam divergence <span class="arithmatex">\(\theta_{fp}\)</span> (<em>i.e.</em>, within footprint angular divergence). Parameter "Fraction of photons at LiDAR radius" <span class="arithmatex">\(\eta=\frac {pulse\:energy\:at\:footprint\:edge} {pulse\:energy\:at\:footprint\:center}\)</span>. It is used to calculate the standard deviation <span class="arithmatex">\(s_{\beta}\)</span>. Its default value is 0.368 (<span class="arithmatex">\(e^{-1}\)</span>).</p>
</li>
</ul>
<div class="admonition note">
<p class="admonition-title">Note</p>
<ul>
<li>2D distributions w(i,j) can be imported as a LiDAR pulse energy image with option <em>'Import a pulse spatial file'</em>.</li>
<li>The ratio <span class="arithmatex">\(\frac {N_{photons,lidar}} {N_{photons,dart}}\)</span> is used to get results in terms of actual photons instead of dart photons.</li>
<li>Results converge and become more accurate if <span class="arithmatex">\(N_{photons,DART}\)</span> increases. The optimal value of <span class="arithmatex">\(N_{photons,DART}\)</span> depends on the footprint size and scene complexity. For example, it can be 70~200 for TLS simulation, 1000~5000 for ALS simulation, and 100.000~1.000.000 for satellite LiDAR simulation.</li>
</ul>
</div>
<ul>
<li>
<p><u><em>Acquisition</em></u> (<em>see below</em>): rate (1ns <span class="arithmatex">\(\implies\)</span> distance resolution = 15cm); higher scattering order; larger RAM for MC (box method); Filter: data stored from <span class="arithmatex">\(1^{st}\)</span> to last non zero bins; no MC variability: same result for successive simulations.</p>
</li>
<li>
<p><u><em>LiDAR geometry</em></u> (<em>see below</em>):</p>
<ul>
<li><em>Lidar altitude</em> H.</li>
<li><em>Telescope area</em> <span class="arithmatex">\(A_t =\pi r_t^2\)</span> (<span class="arithmatex">\(r_t\)</span> = radius): used to compute solid angle from any location (x,y,z) to LiDAR.</li>
<li><em>Zenith and azimuth angles</em>: the LiDAR direction <span class="arithmatex">\(\overrightarrow{\Omega}_L (\theta_L, \phi_L)\)</span>. Viewing and illumination directions are equal.</li>
<li><em>Lidar footprint position (x,y)</em>: center of footprint and ground FOV at BOA level.</li>
<li><em>Footprint and FOV sizes</em>: angles or radii at BOA level. The beam width at the laser generator 'exit gate' is <span class="arithmatex">\(d_l\)</span>. 2D energy distribution is kept along the cone path while the footprint radius <span class="arithmatex">\(r_{fp}\)</span> increases; <span class="arithmatex">\(r_{fp} =R.tan(\theta_{fp}) + \frac {d_l} {2}\)</span> with R the sensor-to-target range. <span class="arithmatex">\(d_l\)</span> is usually negligible for airborne and space LiDAR, conversely to TLS. The FOV radius is <span class="arithmatex">\(r_{FOV} =R.tan(\theta_{FOV} + \frac {r_t} {2}\)</span> with R the sensor-to-target range, rt the radii of LiDAR telescope.</li>
<li><em>Height above / below scene minimal altitude</em>: photons are stored for the interval <span class="arithmatex">\([z_0 - H_1 , z_0 + H_2]\)</span>.</li>
</ul>
</li>
</ul>
<p><center><img src="./media/single_pulse_menu.png"><p><em>Single pulse menu. a) LiDAR mode. b) Energy time distribution. c) Energy spatial distribution. d) Acquisition. e) LiDAR geometry. f) Footprint and FOV ellipses: <span class="arithmatex">\(r_{\parallel,fp}=H.\frac {tan(\theta_{fp})} {cos^2(\theta_L)}\)</span>, <span class="arithmatex">\(r_{\perp,fp}=H.\frac {tan(\theta_{fp})} {cos(\theta_L)}\)</span>; <span class="arithmatex">\(r_{\parallel,FOV}=\frac {H.\frac {tan(\theta_{fp})} {cos(\theta_L)} + r_t} {cos(\theta_L)}\)</span>, <span class="arithmatex">\(r_{\perp,FOV}=H.\frac {tan(\theta_{FOV})} {cos(\theta_L)} + r_t\)</span></em></p></img></center></p>
<ul>
<li>
<p><u><strong><em>Single-pulse waveform products</em></strong></u> (<em>see below</em>) images and text files</p>
<ul>
<li><em>Photons images</em>: ground image (2D distribution of photons intercepted by the ground), BOA incident pulse, BOA LiDAR image in the plane perpendicular to the viewing direction, and reflectance image.
<center><img src="./media/lidar_single_pulse.png"><p><em>Lidar single-pulse products.</em></p></img></center></li>
<li><em>Convolved waveform:</em><ul>
<li><code>pulse.txt</code> (<a href="../../../Format_DART_files/3-DART_RC/dart_rc.html#output-files-single-pulse">here</a>): time pulse function <span class="arithmatex">\(A.e^{-t^2/2.\sigma_t^2}\)</span> used to convolve the LiDAR DART waveform.</li>
<li>LIDAR_DART_wave.txt (<code>LIDAR_DART_wave_1stOrder.txt</code>) (<a href="../../../Format_DART_files/3-DART_RC/dart_rc.html#output-files-single-pulse">here</a>): (1st-order) not convolved waveform. 4 columns: bin, time, length, number of photons.</li>
<li>LIDAR_CONVOLVED_wave.txt (LIDAR_CONVOLVED_wave_1stOrder.txt) (<a href="../../../Format_DART_files/3-DART_RC/dart_rc.html#output-files-single-pulse">here</a>): (1st-order) convolved waveform. 2 columns (time, number of photons).</li>
</ul>
</li>
<li>Photon Information (<a href="../../../Format_DART_files/3-DART_RC/dart_rc.html#output-files-single-pulse">here</a>): <span class="arithmatex">\((x_{lidar}, y_{lidar}), R_f, R_{FOV}, q_{lidar}, f_{lidar}\)</span>, ground path length and bin number, bin duration, <span class="arithmatex">\(s_t\)</span>, number of <span class="arithmatex">\(s_t\)</span> in the pulse, pulse length, number of bins in the pulse, pulse itself. Allow a 3D view of photon interactions in “View <span class="arithmatex">\(\rightarrow\)</span> LiDAR <span class="arithmatex">\(\rightarrow\)</span> mono pulse”.</li>
<li><code>stat_illumination_MC0.txt</code> (<a href="../../../Format_DART_files/3-DART_RC/dart_rc.html#output-files-single-pulse">here</a>): statistics of illumination per spectral band.</li>
</ul>
</li>
</ul>
<h3 id="b-multiple-pulse">b) <strong>Multiple pulse</strong></h3>
<p>Three modes are possible: Waveform, Photon counting and Discrete Return (see below).</p>
<p><center><img src="./media/multiple_pulse_mode.png"><p><em>DART "multiple pulse" mode.</em></p></img></center></p>
<p>The acquisition grid (see below) is an irregular grid defined by an imported file (<code>Lidar_files/Swath_ALS.txt</code>) that sets the characteristics of each pulse, or a regular grid with the following input of parameters:</p>
<ol>
<li>Start point and end point of the central axis of the swath region,</li>
<li>Position of the ground control point and LiDAR viewing direction for that point,</li>
<li>Grid mesh along the azimuth and range directions.</li>
</ol>
<p>A waveform is simulated per grid node with a viewing direction defined by the telescope and pushbroom scan line (i.e., same azimuth view direction for all nodes on a same line). This energy per bin can be converted into discrete return and photon counting data through specific approaches.</p>
<ul>
<li><u><em>Lidar parameters</em></u> (see below): as "Single pulse" option, except that "Lidar direction" changes per swath node.</li>
</ul>
<p><center><img src="./media/multiple_pulse_menu.png"><p><em>a) Lidar "multiple pulse+ ALS mode" swath menu. b) Scan grid.</em></p></img></center></p>
<ul>
<li><u><em>Multiple-pulse waveform products</em></u> (See below): images and text files<ul>
<li>Images that show all pulses.</li>
<li><code>LIDAR_IMAGE_panel.txt</code> (<a href="../../../Format_DART_files/3-DART_RC/dart_rc.html#output-files-multi-pulse">here</a>): multi-pulse geometry information, which is used as ancillary file for DART LiDAR viewer (view <span class="arithmatex">\(\rightarrow\)</span> LiDAR <span class="arithmatex">\(\rightarrow\)</span> multi pulse).</li>
<li><code>LIDAR_IMAGE_FILE.binary</code> (<a href="../../../Format_DART_files/3-DART_RC/dart_rc.html#output-files-multi-pulse">here</a>): the simulated multi-pulse waveforms.</li>
<li><code>LIDAR_IMAGE_STATUS.txt</code> (<a href="../../../Format_DART_files/3-DART_RC/dart_rc.html#output-files-multi-pulse">here</a>): positions of key bytes in <code>LIDAR_IMAGE_FILE.binary</code> file. It is updated simultaneously with the binary file.</li>
</ul>
</li>
</ul>
<p><center><img src="./media/lidar_multipulse_menu.png"><p><em>Menu of lidar multi-pulse waveform products</em></p></img></center></p>
<h3 id="c-discrete-points-point-cloud">c) <strong>Discrete points: point cloud</strong></h3>
<p>Two methods (See below) can derive a point cloud (industrial format), with 5 intensity products, from DART waveform binary files using Gaussian Decomposition (GD).</p>
<p><center><img src="./media/structure_lidar_cloud_points_computation.png"><p><em>DART calculation of LiDAR point cloud and export in LAS format.</em></p></img></center></p>
<ol>
<li>
<p>DART external process (script <code>DART2LAS.py</code> based on laspy library): it converts a DART LiDAR multi-pulse output file to a LAS File:</p>
<ul>
<li>inputFile: <code>LiDAR_IMAGE_FILE.binary</code>.</li>
<li>outputFile: output LAS file with format LAS1.3 point cloud point type 1 or 4. If type 4 waveform is selected, a <code>*wdp</code> file is also generated to store the waveform. The reading of type 4 is supported by the latest version of Cloudcompare (<a href="https://www.danielgm.net/cc/">www.danielgm.net/cc/</a>; <u>Girardeau-Montaut</u>, 2011) in Windows system.</li>
<li>g: type: float: set a fixed digital gain for the amplitude <span class="arithmatex">\(\rightarrow\)</span> volts conversion. If this option is not set, the python file will read through <code>LiDAR_IMAGE_FILE.binary</code> and find the maximum amplitude of all the waveforms and normalize it to integer range 0-127.</li>
<li>t: type: int: output intensity format type. 1: Peak amplitude of gaussian profile. 2: Integration of decomposed gaussian profile (default). 3: Sigma of gaussian profile (integer value of s (unit: number of acquisition bins)).</li>
<li>w: if “-w” is set, LAS1.3 type 4 (waveform format) will be generated. Otherwise, the script only stores the decomposed points in a simple format (LAS1.3 type 4)</li>
</ul>
</li>
<li>
<p>DART internal processing: it is advised if the storage of the waveforms used to get the cloud point needs too much computer volume, which may be the case for TLS simulation. It uses 3 parameters:</p>
<ul>
<li><em>Minimum apparent reflectance</em> <span class="arithmatex">\(\rho_{min}\)</span> : a point is not be recorded if its apparent reflectance <span class="arithmatex">\(\rho &lt; \rho_{min}\)</span> .</li>
<li><em>Number of points per pulse.</em></li>
<li><em>Output intensity value type</em>: 1 or all of 5 intensity products (cf. below).</li>
</ul>
</li>
</ol>
<p>Points are stored in the file <code>DetectedPoints.txt</code> (<a href="../../../Format_DART_files/3-DART_RC/dart_rc.html#output-files-multi-pulse">here</a>). Its header (1st row) gives the data format. It eases its reading in Excel and CloudCompare (use option 'skip lines 1' and 'extract scalar field names from 1st line').</p>
<p><u><em>Theoretical Background of Gaussian Decomposition (GD)</em></u></p>
<p>GD derives N points from waveforms. The received power is: <span class="arithmatex">\(P_r(t)=\sum_{i=1}^N \hat{P}_i.e^{- \frac {(t-t_i)^2} {2s_{p,i}^2}}\)</span> (1) with <span class="arithmatex">\(s_{p,i} = \sqrt{s_s^2+s_i^2}\)</span> (2) the standard deviation per Gaussian echo at time <span class="arithmatex">\(t_i\)</span>, with the time-gated peak amplitude: <span class="arithmatex">\(\hat{P}_i = \frac {\sigma_i} {C_{cal}.R_i^4.s_{p,i}}\)</span> (2) <span class="arithmatex">\(\sigma_i\)</span> is the total cross section of a Gaussian cluster of scatterers at distance <span class="arithmatex">\(R_i\)</span>.</p>
<p><span class="arithmatex">\(s_i\)</span> represents signal broadening due to the observed medium (e.g., cluster of leaves or surface that is oblique relative to the LiDAR direction), and <span class="arithmatex">\(s_s\)</span> represents signal broadening due to the pulse duration. <span class="arithmatex">\(s_s\)</span> is an instrument-specific constant unless each transmitted pulse temporal profile is known (Mallet and Bretar, 2009). <span class="arithmatex">\(s_{p,i} \approx s_s\)</span> if <span class="arithmatex">\(s_s \gg s_i\)</span> (very small footprint compared to the corresponding distance of the pulse duration). Hence, GD distinction of different targets depends on target size, surface angle, gap size, and acquisition frequency.</p>
<p><span class="arithmatex">\(C_{cal} = \frac {4.\pi .\beta_t^2} {\eta .D_r^2.\hat{S}.s_s}\)</span> (3) is a calibration constant, with <span class="arithmatex">\(\eta\)</span> the product of system and atmospheric transmission factors. Wagner et al. (2006) consider that the backscatter cross section of scatterers with an effective cross section <span class="arithmatex">\(A_s\)</span> and a bi-conical reflectance factor <span class="arithmatex">\(\rho\)</span> for the LiDAR direction is: <span class="arithmatex">\(\sigma = \frac {4.\pi} {\Omega}.\rho .A_s\)</span> (4) with <span class="arithmatex">\(\Omega\)</span> the solid angle of the cone where scattered intensity (W/sr) is assumed to be uniiform. For echo i, we have: <span class="arithmatex">\(\sigma_i = \frac {4\pi}.\rho_i.A_{s,i}\)</span> (5).</p>
<p>An apparent bi-conical reflectance factor <span class="arithmatex">\(\rho_{a,i}\)</span> of the cluster of scatterers at distance <span class="arithmatex">\(R_i\)</span> is defined for a theoretical surface <span class="arithmatex">\(A_{foot,i}=\frac {\pi R_i^2 \beta_t^2} {4}\)</span> (neglecting <span class="arithmatex">\(d_l\)</span>) equal to the footprint area at a distance <span class="arithmatex">\(R_i\)</span> along the pulse direction: <span class="arithmatex">\(\sigma_i = \frac {4\pi} {\Omega}.\rho_{a,i}.A_{foot,i}\)</span> (6). Conversely to Wagner et al. (2006), scattered radiance, and not intensity, is assumed to be isotropic. Hence, for a backscattered power <span class="arithmatex">\(P_{r,i}\)</span>, the power entering a receiver of area <span class="arithmatex">\(A_t\)</span> is <span class="arithmatex">\(\frac {P_{r,i}} {\pi}.\frac {A_t} {R_i^2}\)</span> and not <span class="arithmatex">\(\frac {P_{r,i}} {\Omega}.\frac {A_t} {R_i^2}\)</span>. Hence, the expression of <span class="arithmatex">\(\sigma_i\)</span> in Eq. 7 is modified: <span class="arithmatex">\(\sigma_i =4.\rho_{a,i}.A_{s,i} =\pi .\rho_{a,i}.R_i^2.\beta_t^2\)</span> (7)</p>
<ul>
<li>
<p><strong><em>The 5 tyes of "intensity" products</em></strong></p>
<ul>
<li>
<p>1) <em>Peak Amplitude</em> <span class="arithmatex">\(\hat{P}_i\)</span> (without GD). It is determined using a fast method (i.e., zero-crossing).</p>
</li>
<li>
<p>2) <em>Fitted Peak Amplitude</em> <span class="arithmatex">\(\hat{P}_i\)</span> (with GD). ti , <span class="arithmatex">\(\hat{P}_i\)</span> and <span class="arithmatex">\(s_{p,i}\)</span> are computed with non-linear least-square minimization and curve-fitting (Newville et al., 2016).</p>
</li>
<li>3) <em>Standard Deviation</em> <span class="arithmatex">\(s_{p,i}\)</span> (with GD) (unit: number of bins).</li>
<li>4) <em>Total return power</em> <span class="arithmatex">\(P_i\)</span> (with GD): <span class="arithmatex">\(P_i = \int \hat{P}_i.e^{- \frac {(t-t_i)^2} {2s_{p,i}^2}}dt = \sqrt{2\pi}.\hat{P}_i.s_{p,i}\)</span> (8) (Milenković et al., 2017).</li>
<li>5) Apparent reflectance <span class="arithmatex">\(\rho_{a,i}\)</span> (with GD). The combination of Eq. (3) and Eq. (9) gives <span class="arithmatex">\(\sigma_i\)</span> as a function of <span class="arithmatex">\(P_i\)</span>: <span class="arithmatex">\(\sigma_i = \frac {P_i.C_{cal}.R_i^4} {\sqrt{2\pi}}\)</span> (9). Eq. (8) and Eq. (10) lead to <span class="arithmatex">\(\rho_{a,i}=\frac {P_i.C_{cal}.R_i^2} {\pi \sqrt{2\pi}.\beta_t^2}\)</span> (10). Using Eq. (4). <span class="arithmatex">\(\rho_{a,i}\)</span> can be written as a ratio of transmitted and received powers: <span class="arithmatex">\(\rho_{a,i}=\frac {\pi} {\Delta \Omega_i.\eta}.\frac {P_i} {P_t}\)</span> (11) with <span class="arithmatex">\(P_t=\sqrt{2\pi}.\hat{S}.s_s\)</span> the total pulse power, and <span class="arithmatex">\(\Delta \Omega_i=\frac {D_r^2.\pi} {4.R_i^2}\)</span> the solid angle from target i to receiver of diameter <span class="arithmatex">\(D_r\)</span> at distance <span class="arithmatex">\(R_i\)</span>.</li>
</ul>
</li>
</ul>
<p>Computation of <span class="arithmatex">\(P_i =\sqrt{2\pi}.\hat{P}_i.s_{p,i}\)</span> i ⋅sp,i requires <span class="arithmatex">\(\hat{P}_i\)</span> and <span class="arithmatex">\(s_{p,i}\)</span>, except if <span class="arithmatex">\(s_s \gg s_i\)</span> . Present LiDAR devices do not give <span class="arithmatex">\(\hat{P}_i\)</span> and <span class="arithmatex">\(s_{p,i}\)</span>. They only give quantities often called "intensity" with various definitions. Hence, an accurate calculation of <span class="arithmatex">\(\rho_{a,i}\)</span> requires to record (Brown et al., 2005) or process (Wagner, 2010) the complete waveform with GD. Some discrete-return LiDAR devices give a "reflectance" product by fitting an "intensity" output with reference targets with different reflectance values (10%, 20%,…) at various distances. The online waveform processing of Riegl devices (Pfennigbauer et al., 2009, 2010) may provide the complete information without recording the waveforms, but the details of the method remain unpublished.</p>
<h3 id="d-photon-counting">d) <strong>Photon counting</strong></h3>
<p>The method (Yin et al, 2016) implemented in DART internal processing is used to derive a photon counting data. It uses 3 parameters of single-photon detector:</p>
<ul>
<li><em>Quantum efficiency</em> <span class="arithmatex">\(P_Q\)</span>: the probability to detect a photon that reaches the detector.</li>
<li><em>Detector dead time</em> <span class="arithmatex">\(t_{dead}\)</span> : the period needed by the detector to recover from a detection event, before another photon can be detected.</li>
<li><em>Dark count rate</em> <span class="arithmatex">\(f_{dark}\)</span>: the detector’s thermal noise count rate without any light source. The file DetectedPoints.txt (<a href="../../../Format_DART_files/3-DART_RC/dart_rc.html#output-files-multi-pulse">here</a>) stores photon counts. Its header (1st row) gives the data format. It eases its reading in Excel and CloudCompare (use option 'skip lines 1' and 'extract scalar field names from 1st line').</li>
</ul>
<h3 id="e-tls">e) <strong>TLS</strong></h3>
<p>A TLS single-pulse simulation is defined by TLS location (see below, a.). The waveform storage range is defined by the reference point location and range around it (see below b.).</p>
<p>For TLS multi-pulse simulation, apart from the above parameters, TLS swath (see below c.) is defined the viewing direction (target <span class="arithmatex">\(\rightarrow\)</span> LiDAR), angular (zenith and azimuth) range and resolution.</p>
<p><img src="./media/lidar_position.png" width=220></img>
<img src="./media/measured_range.png" width=370></img>
<img src="./media/swath.png" width=250><center><p><em>TLS mode. a) LiDAR position; b) measured range; c) swath.</em></p></center></img></p>
<h3 id="f-solar-noise">f) <strong>Solar noise</strong></h3>
<p><u><em>3 options</em></u>: "Only Lidar", "Only solar noise" and "Lidar with Solar noise". Solar noise is a constant, simulated with DART flux tracking method, including several iterations, in the Earth scene.</p>
<p>In single-pulse mode, the solar noise is defaulted simulated by pinhole camera configuration that mimics the lidar sensor. In multi-pulse mode, airborne configuration should select the pushbroom camera. If solar noise is simulated, we get:</p>
<ul>
<li>Scene reflectance / radiance images (i.e., "flux tracking mode) due to sun flux only.</li>
<li>1 image / node of the swath grid "ima_camera_lidar_SN_i_j_VZ=000_1_VA=270_0". Index i is grid line (i.e., azimuth) number of the swath region, from the start point to end point. Index j is grid column number (i.e., range) of the swath region, from the left to right view.</li>
<li><code>Solar_noise.txt</code> (<a href="../../../Format_DART_files/3-DART_RC/dart_rc.html#output-files-multi-pulse">here</a>): i, j, average sun radiance <span class="arithmatex">\((W/m^2/sr/\mu m)\)</span>, Solar power received by LiDAR (W), Solar energy per bin (J), Number of sun photons per bin.</li>
<li><code>rad0.txt</code> (<a href="../../../Format_DART_files/3-DART_RC/dart_rc.html#output-files-multi-pulse">here</a>): average sun radiances of nodes.</li>
</ul>





                
              </article>
            </div>
          
          
        </div>
        
      </main>
      
        <footer class="md-footer">
  
  <div class="md-footer-meta md-typeset">
    <div class="md-footer-meta__inner md-grid">
      <div class="md-copyright">
  
  
    Made with
    <a href="https://squidfunk.github.io/mkdocs-material/" target="_blank" rel="noopener">
      Material for MkDocs
    </a>
  
</div>
      
    </div>
  </div>
</footer>
      
    </div>
    <div class="md-dialog" data-md-component="dialog">
      <div class="md-dialog__inner md-typeset"></div>
    </div>
    
    <script id="__config" type="application/json">{"base": "../../..", "features": [], "search": "../../../assets/javascripts/workers/search.208ed371.min.js", "translations": {"clipboard.copied": "Copied to clipboard", "clipboard.copy": "Copy to clipboard", "search.result.more.one": "1 more on this page", "search.result.more.other": "# more on this page", "search.result.none": "No matching documents", "search.result.one": "1 matching document", "search.result.other": "# matching documents", "search.result.placeholder": "Type to start searching", "search.result.term.missing": "Missing", "select.version": "Select version"}}</script>
    
    
      <script src="../../../assets/javascripts/bundle.fac441b0.min.js"></script>
      
        <script src="../../../javascripts/mathjax.js"></script>
      
        <script src="https://polyfill.io/v3/polyfill.min.js?features=es6"></script>
      
        <script src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js"></script>
      
    
  </body>
</html>